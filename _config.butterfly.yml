# _config.butterfly.yml
# --------------------------------------------------------
# 导航菜单配置（使用语言包Key实现多语言）
# 格式：Key: 路径 || 图标 || 额外CSS(可选)
menu:
  home: / || fas fa-home
  archives: /archives/ || fas fa-archive
  tags: /tags/ || fas fa-tags
  categories: /categories/ || fas fa-folder-open
  gallery: /gallery/ || fas fa-images
  guestbook: /guestbook/ || fas fa-comments
  languages:
    chinese: / || fas fa-language
    english: /en/ || fas fa-globe

# --------------------------------------------------------
# 核心视觉配置
avatar:
  img: https://cdn.jsdelivr.net/gh/Jaylin03/blog-images@master/logo_ln3_bull_v8.png # 请替换为你自己的头像链接
  effect: false # 头像旋转效果

# 顶部图 (Banner)
index_img: https://cdn.jsdelivr.net/gh/Jaylin03/blog-images@master/home-design-5.jpg # 替换为你喜欢的首页大图

# --------------------------------------------------------
# 社交图标 (侧边栏和页脚)
social:
  fab fa-github: https://github.com/jaylin03 || Github || "#000000"
  fas fa-envelope: mailto:jaylon03.lee@gmail.com || Email || "#0078D7"
  fab fa-telegram: https://t.me/your_telegram_username || Telegram || "#0088cc"

# --------------------------------------------------------
# 侧边栏设置
sidebar:
  position: left # 侧边栏在左侧
  display:
    post: true
    archive: true
    tag: true

# --------------------------------------------------------
# 评论系统 (使用 Twikoo，因你之前的 Stellar 配置过)
comments:
  use: Twikoo
  text: true
  lazyload: true
  count: true
  card_post_count: true

twikoo:
  envId: https://twikoo-new-kappa.vercel.app # Vercel Domains
  region:  # 非腾讯云 TCB 部署，留空
  visitor: true
  # 前端 CDN 版本固定为 v1.6.44，需要后端也保持一致
  js: https://cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js
  option:
    lang: window.navigator.language  # 新增：自动识别浏览器语言

# --------------------------------------------------------
# 其它功能
# 繁简转换 (Butterfly 自带功能)
translate:
  enable: true
  # 1: 繁體 (Traditional)，2: 簡體 (Simplified)
  defaultEncoding: 2  # 简体作为后备默认值
  translateDelay: 0 # 延迟时间（ms）
  msgToTraditionalChinese: '繁' # 按钮文本：切换到繁体时显示的文字
  msgToSimplifiedChinese: '簡' # 按钮文本：切换到简体时显示的文字

# 搜索 (推荐本地搜索)
search:
  use: local_search

local_search:
  enable: true
  preload: false
  # CDN: https://cdn.jsdelivr.net/npm/hexo-generator-search@2.4.3/dist/search.js

# --------------------------------------------------------
# 实时时间转换支持
# 注入脚本和样式
inject:
  head:
    # 根据浏览器语言自动设置繁简转换的初始编码
    - |
      <script>
        (function() {
          const lang = navigator.language || navigator.userLanguage;
          const targetEncodingCookie = 'translate-chn-cht';
          const hasUserChoice = localStorage.getItem(targetEncodingCookie);
          
          // 如果用户未手动选择过，根据浏览器语言设置
          if (!hasUserChoice) {
            // zh-TW, zh-HK, zh-MO 等繁体地区 → 设置为繁体(1)
            // zh-CN, zh-SG 等简体地区或其他语言 → 设置为简体(2)
            const isTraditional = /^zh-(TW|HK|MO)$/i.test(lang);
            const defaultEncoding = isTraditional ? 1 : 2;
            localStorage.setItem(targetEncodingCookie, defaultEncoding);
          }
        })();
      </script>
  bottom:
    # 也可以开启主题自带的相对时间功能

# Butterfly 相对时间设置
post_meta:
  page:
    date_type: both
    date_format: 'YYYY-MM-DD' # 可改为 relative 或自定义格式
  post:
    date_type: both
    date_format: relative